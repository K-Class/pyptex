\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{graphicx}
\usepackage{verbatim}

@{
from sympy import *
pyp.includegraphics=r"\includegraphics[width=0.9\textwidth]"
 }

\begin{document}
Here's a 2d sympy plot:

@{plot(S('sin(x)+cos(pi*x)'))}

Here's a 3d sympy plot:

\begin{verbatim}
@@{plotting.plot3d(S('x*y'))}
\end{verbatim}

@{plotting.plot3d(S('x*y'))}

\end{document}
